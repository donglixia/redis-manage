##缓存存在的问题
1.缓存无底洞
2.缓存穿透
3.缓存雪崩
4.缓存失效
5.热点key倾斜
6.热点key重建
7.缓存数据库双写不一致

分布式锁需要考虑的几个问题
1.使用setnx ,结束时需要删掉锁
2.中间可能程序抛异常，锁需要在finally中执行删除锁
3.先查询锁存在再删除锁，两个操作必须是原子操作，不然多线程中，一个刚查到，cpu又被另一个占用，前一个可能会把后一个锁删除
4.删除锁必须只能删除自己的，所以给这个锁一个唯一值，删除锁之前要比较这个值
5.可能redis挂了，所以锁必须要设置有效时间，否则永远无法解锁
6.有效时间大小不好判断，有可能中间执行时间过长导致锁失效，可以看门狗，定时任务去给锁续时间
（redisson中实现了，这些逻辑，比如查询 锁存在并设置锁 判断锁并删除锁 ，这些都需要原子操作，里面使用的lua命令，并且时间了定时任务去刷新有效时间，延迟1/3）
